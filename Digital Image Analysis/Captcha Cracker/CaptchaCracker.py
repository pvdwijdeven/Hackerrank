# -*- coding: utf-8 -*-
"""
Captcha Cracker - create fonts

Pascal van de Wijdeven
"""


import sys

threshold=300
startx=5
starty=11
foundword=""

fontdict={
'00011000001111000110011011000011110000111100001111000011011001100011110000011000':'0',
'00011000001110000111100000011000000110000001100000011000000110000001100001111110':'1',
'00111100011001101100001100000011000001100000110000011000001100000110000011111111':'2',
'01111100110001100000001100000110000111000000011000000011000000111100011001111100':'3',
'00000110000011100001111000110110011001101100011011111111000001100000011000000110':'4',
'11111110110000001100000011011100111001100000001100000011110000110110011000111100':'5',
'00111100011001101100001011000000110111001110011011000011110000110110011000111100':'6',
'11111111000000110000001100000110000011000001100000110000011000001100000011000000':'7',
'00111100011001101100001101100110001111000110011011000011110000110110011000111100':'8',
'00111100011001101100001111000011011001110011101100000011010000110110011000111100':'9',
'00011000001111000110011011000011110000111100001111111111110000111100001111000011':'A',
'11111100110001101100001111000110111111001100011011000011110000111100011011111100':'B',
'00111110011000111100000111000000110000001100000011000000110000010110001100111110':'C',
'11111100110001101100001111000011110000111100001111000011110000111100011011111100':'D',
'11111110110000001100000011000000111111001100000011000000110000001100000011111110':'E',
'11111111110000001100000011000000111111001100000011000000110000001100000011000000':'F',
'00111110011000111100000011000000110000001100011111000011110000110110001100111110':'G',
'11000011110000111100001111000011111111111100001111000011110000111100001111000011':'H',
'01111110000110000001100000011000000110000001100000011000000110000001100001111110':'I',
'00011110000001100000011000000110000001100000011000000110010001100110110000111000':'J',
'11000011110001101100110011011000111100001111000011011000110011001100011011000011':'K',
'11000000110000001100000011000000110000001100000011000000110000001100000011111110':'L',
'11000011111001111111111111011011110110111101101111000011110000111100001111000011':'M',
'11000011111000111111001111110011110110111101101111001111110001111100011111000011':'N',
'00111100011001101100001111000011110000111100001111000011110000110110011000111100':'O',
'11111110110000111100001111000011111111101100000011000000110000001100000011000000':'P',
'00111100011001101100001111000011110000111100001111011011110011110110011000111101':'Q',
'11111110110000111100001111000011111111101111100011001100110001101100001111000011':'R',
'01111110110000111100000011000000011111100000001100000011000000111100001101111110':'S',
'11111111000110000001100000011000000110000001100000011000000110000001100000011000':'T',
'11000011110000111100001111000011110000111100001111000011110000110110011000111100':'U',
'11000011110000111100001101100110011001100110011000111100001111000001100000011000':'V',
'11000011110000111100001111000011110110111101101111011011111111111110011111000011':'W',
'11000011110000110110011000111100000110000001100000111100011001101100001111000011':'X',
'11000011110000110110011000111100000110000001100000011000000110000001100000011000':'Y',
'11111110000001100000011000001100000110000011000001100000110000001100000011111110':'Z'
}

try:
    filename = "input\input00.txt"
    f = open(filename)
    local=True
except:
    f= sys.stdin
    local=False

nrows,ncols=map(int,f.readline().split(" " ))

newpict=[]
for r in range(nrows):
    row=f.readline().split(" ")
    newrow=[]
    for c in row:
        r,g,b=map(int,c.split(","))
        newrow.append(1 if r+g+b<threshold else 0)
    newpict.append(newrow)
f.close

for i in range(5):
    capfont=""
    for y in range(10):
        for x in range(8):
            capfont+="0" if newpict[starty+y][startx+x]==0 else "1"
    startx+=9
    foundword+=fontdict[capfont]
print foundword